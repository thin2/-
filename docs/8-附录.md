# 8. 附录

## 8.1 相关文档

### 8.1.1 项目文档

#### 核心文档
- **API文档.md**：完整的API接口文档，包含所有接口的请求参数、响应格式和示例
- **项目设计报告**：本文档系列，包含项目概述、需求分析、设计方案等8个章节

#### 设计文档
- **数据库设计**：包含在"3-设计方案.md"中，包含ER图和表结构设计
- **UI设计**：包含在"3-设计方案.md"中，包含页面结构和交互设计

### 8.1.2 代码文档

#### 代码注释
- **Python代码**：关键函数和类包含文档字符串（docstring）
- **JavaScript代码**：关键函数包含注释说明

#### 代码结构
```
错题管理系统/
├── app/                    # 后端应用
│   ├── __init__.py        # 应用初始化
│   ├── config.py          # 配置文件
│   ├── models/            # 数据模型
│   ├── routes/            # 路由模块
│   ├── services/          # 服务层
│   └── utils/             # 工具类
├── static/                 # 静态资源
│   ├── css/              # 样式文件
│   ├── js/               # JavaScript文件
│   └── uploads/           # 上传文件
├── templates/             # HTML模板
├── data/                  # 数据文件
│   └── app.db            # SQLite数据库
├── docs/                  # 文档目录
├── app.py                # 应用入口
├── init_db.py            # 数据库初始化脚本
└── requirements.txt       # Python依赖
```

## 8.2 代码仓库

### 8.2.1 仓库信息

- **仓库类型**：Git仓库
- **托管平台**：GitHub / GitLab / Gitee（可选）
- **仓库地址**：待配置
- **分支策略**：
  - `master`：主分支，稳定版本
  - `develop`：开发分支（可选）
  - `feature/*`：功能分支（可选）

### 8.2.2 提交规范

#### 提交信息格式
```
<type>(<scope>): <subject>

<body>

<footer>
```

#### 类型说明
- `feat`：新功能
- `fix`：修复Bug
- `docs`：文档更新
- `style`：代码格式调整
- `refactor`：代码重构
- `test`：测试相关
- `chore`：构建/工具相关

#### 示例
```
feat(question): 添加错题搜索功能

- 支持关键词搜索
- 支持多条件筛选
- 优化搜索性能

Closes #123
```

## 8.3 第三方工具/插件清单

### 8.3.1 后端依赖

#### 核心框架
- **Flask 3.0+**：Web框架
  - 官网：https://flask.palletsprojects.com/
  - 用途：HTTP请求处理、路由管理

- **Flask-SQLAlchemy 3.0+**：ORM框架
  - 官网：https://flask-sqlalchemy.palletsprojects.com/
  - 用途：数据库操作、模型定义

- **Flask-CORS 4.0+**：跨域支持
  - 官网：https://flask-cors.readthedocs.io/
  - 用途：解决前后端分离的跨域问题

#### 工具库
- **PyJWT 2.8+**：JWT Token处理
  - 官网：https://pyjwt.readthedocs.io/
  - 用途：用户认证Token生成和验证

- **Werkzeug**：密码加密
  - 官网：https://werkzeug.palletsprojects.com/
  - 用途：密码哈希加密

- **Requests 2.31+**：HTTP客户端
  - 官网：https://requests.readthedocs.io/
  - 用途：调用AI API

### 8.3.2 前端依赖（CDN）

#### 核心框架
- **Vue.js 2.6.14**：JavaScript框架
  - CDN：https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js
  - 用途：前端框架、数据绑定

- **Element UI 2.15.13**：UI组件库
  - CDN：https://unpkg.com/element-ui/lib/index.js
  - 用途：UI组件、表单、表格等

#### 工具库
- **Axios 1.6.0**：HTTP客户端
  - CDN：https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js
  - 用途：API请求

- **ECharts 5.4.3**：图表库
  - CDN：https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js
  - 用途：数据可视化、图表展示

#### 图标库
- **Font Awesome 5.15.4**：图标库
  - CDN：https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css
  - 用途：图标显示

### 8.3.3 开发工具

#### IDE/编辑器
- **PyCharm**：Python IDE（推荐）
- **VS Code**：轻量级编辑器
- **Sublime Text**：文本编辑器

#### 版本控制
- **Git**：版本控制系统
- **GitHub Desktop**：Git图形界面（可选）

#### API测试
- **Postman**：API测试工具
- **curl**：命令行HTTP客户端

#### 数据库工具
- **DB Browser for SQLite**：SQLite数据库管理工具
- **DBeaver**：通用数据库管理工具

### 8.3.4 AI服务

#### 智谱AI
- **服务名称**：智谱AI GLM-4.5-flash
- **API地址**：https://open.bigmodel.cn/api/paas/v4
- **文档地址**：https://open.bigmodel.cn/
- **用途**：AI对话、解题助手
- **计费方式**：按调用量计费

## 8.4 参考资料

### 8.4.1 技术文档

#### Flask相关
- Flask官方文档：https://flask.palletsprojects.com/
- Flask-SQLAlchemy文档：https://flask-sqlalchemy.palletsprojects.com/
- Flask最佳实践：https://flask.palletsprojects.com/patterns/

#### Vue.js相关
- Vue.js官方文档：https://v2.cn.vuejs.org/
- Element UI文档：https://element.eleme.cn/
- Vue.js最佳实践：https://v2.cn.vuejs.org/v2/guide/

#### 数据库相关
- SQLite文档：https://www.sqlite.org/docs.html
- SQLAlchemy文档：https://docs.sqlalchemy.org/

#### AI相关
- 智谱AI文档：https://open.bigmodel.cn/
- OpenAI API文档（参考）：https://platform.openai.com/docs/

### 8.4.2 设计参考

#### UI/UX设计
- Material Design：https://material.io/design
- Ant Design：https://ant.design/
- Element UI设计规范：https://element.eleme.cn/#/zh-CN/component/design

#### 教育类产品参考
- 学习类APP设计参考
- 在线教育平台设计参考

### 8.4.3 学术参考

#### 学习理论
- 遗忘曲线理论（艾宾浩斯）
- 间隔重复学习法
- 主动回忆学习法

#### 教育技术
- 教育信息化相关论文
- 个性化学习系统研究
- AI在教育中的应用

## 8.5 配置说明

### 8.5.1 环境变量

#### 必需配置
```bash
# AI API配置
API_KEY=your-api-key-here
BASE_URL=https://open.bigmodel.cn/api/paas/v4
MODEL=glm-4.5-flash
MAX_TOKENS=4096

# 应用配置
SECRET_KEY=your-secret-key-here
TOKEN_EXPIRATION_HOURS=24
```

#### 可选配置
```bash
# 数据库配置（如使用MySQL/PostgreSQL）
DATABASE_URL=mysql://user:password@localhost/dbname

# 文件上传配置
MAX_UPLOAD_SIZE=5242880  # 5MB
ALLOWED_EXTENSIONS=png,jpg,jpeg,gif,webp
```

### 8.5.2 配置文件

#### config.py
```python
class Config:
    SECRET_KEY = os.environ.get("SECRET_KEY", "your-secret-key-here")
    SQLALCHEMY_DATABASE_URI = f"sqlite:///{ROOT_DIR / 'data/app.db'}"
    API_KEY = os.environ.get("API_KEY", "your-api-key")
    BASE_URL = os.environ.get("BASE_URL", "https://open.bigmodel.cn/api/paas/v4")
    MODEL = os.environ.get("MODEL", "glm-4.5-flash")
    MAX_TOKENS = int(os.environ.get("MAX_TOKENS", "4096"))
```

## 8.6 部署说明

### 8.6.1 本地部署

#### 步骤1：安装依赖
```bash
pip install -r requirements.txt
```

#### 步骤2：初始化数据库
```bash
python init_db.py
```

#### 步骤3：配置环境变量
```bash
# Windows
set API_KEY=your-api-key
set SECRET_KEY=your-secret-key

# Linux/macOS
export API_KEY=your-api-key
export SECRET_KEY=your-secret-key
```

#### 步骤4：启动应用
```bash
python app.py
```

#### 步骤5：访问应用
打开浏览器访问：http://127.0.0.1:5000

### 8.6.2 服务器部署

#### 使用Gunicorn
```bash
# 安装Gunicorn
pip install gunicorn

# 启动服务
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

#### 使用Nginx反向代理
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /static {
        alias /path/to/static;
    }
}
```

### 8.6.3 Docker部署（可选）

#### Dockerfile示例
```dockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 5000

CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "app:app"]
```

#### 构建和运行
```bash
docker build -t wrong-question-system .
docker run -d -p 5000:5000 --env-file .env wrong-question-system
```

## 8.7 常见问题

### 8.7.1 安装问题

**Q: pip install失败**
- A: 检查Python版本（需要3.8+），使用国内镜像源：
  ```bash
  pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
  ```

**Q: 数据库初始化失败**
- A: 检查data目录权限，确保有写入权限

### 8.7.2 运行问题

**Q: AI功能无法使用**
- A: 检查API_KEY配置是否正确，检查网络连接

**Q: 文件上传失败**
- A: 检查uploads目录权限，检查文件大小和类型

**Q: Token过期问题**
- A: Token默认24小时过期，过期后需要重新登录

### 8.7.3 性能问题

**Q: 查询速度慢**
- A: 检查数据库索引，使用分页查询，考虑迁移到MySQL/PostgreSQL

**Q: AI响应慢**
- A: 检查网络连接，考虑使用更快的模型

## 8.8 联系方式

### 8.8.1 技术支持

- **问题反馈**：通过GitHub Issues提交
- **功能建议**：通过GitHub Issues提交
- **Bug报告**：通过GitHub Issues提交

### 8.8.2 更新日志

#### v1.0.0 (2025-12-02)
- ✅ 初始版本发布
- ✅ 实现所有核心功能
- ✅ 完成测试和文档

---

**文档版本**：v1.0  
**创建日期**：2025-12-02  
**最后更新**：2025-12-02

